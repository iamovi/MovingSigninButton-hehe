const button=document.querySelector("#btn"),margin=30,segmentSize=10;function moveButton(){let t=button.getBoundingClientRect(),e=t.width,n=t.height,o=window.innerWidth-e-t.left-10-10;o=Math.max(o,0);o=Math.min(o,t.left+10+10);let i=window.innerHeight-n-t.top-10-10;i=Math.max(i,0);let l,$;button.style.opacity=0,setTimeout(()=>{do l=Math.random()*o+30,$=Math.random()*i+30;while(isColliding(l,$,e,n,10,10));button.style.transform=`translate(${l}px, ${$}px)`,button.style.opacity=1},200)}function isColliding(t,e,n,o,i,l){let $=Math.floor((n+2*i)/10),r=Math.floor((o+2*i+2*l)/10);for(let u=0;u<=$;u++)for(let _=0;_<=r;_++){let m=10*u,s=10*_,a=document.elementsFromPoint(t+m,e+s);for(let d of a)if(d!==button&&!d.contains(button))return!0}return!1}button.addEventListener("mouseenter",moveButton),button.addEventListener("click",moveButton);